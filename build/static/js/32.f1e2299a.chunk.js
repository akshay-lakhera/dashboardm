"use strict";(self.webpackChunkmodernize=self.webpackChunkmodernize||[]).push([[32],{6742:function(e,t,n){var i=n(1413),r=(n(2791),n(6934)),s=n(7391),a=n(184),c=(0,r.ZP)((function(e){return(0,a.jsx)(s.Z,(0,i.Z)({},e))}))((function(e){var t=e.theme;return{"& .MuiOutlinedInput-input::-webkit-input-placeholder":{color:t.palette.text.secondary,opacity:"0.8"},"& .MuiOutlinedInput-input.Mui-disabled::-webkit-input-placeholder":{color:t.palette.text.secondary,opacity:"1"},"& .Mui-disabled .MuiOutlinedInput-notchedOutline":{borderColor:t.palette.grey[200]}}}));t.Z=c},3032:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var i=n(4165),r=n(5861),s=(n(2791),n(7689)),a=n(4554),c=n(1889),o=n(7621),u=n(6151);var l=n.p+"static/media/metamask.95441491d5b64b0eb84cd6ee0fd67bb8.svg",d=n(6768),x=n(3132),p=(n(6742),n(184)),h=n(9434),f=n(8754),m=n(9816),b=n(214),g=n(5206),k=function(){var e=(0,s.s0)(),t=(0,h.I0)(),n=function(){var n=(0,r.Z)((0,i.Z)().mark((function n(){return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!window.ethereum){n.next=16;break}if(n.prev=1,l.address){n.next=8;break}return e("/auth/login"),n.next=6,window.ethereum.request({method:"eth_requestAccounts"}).then(function(){var n=(0,r.Z)((0,i.Z)().mark((function n(r){var s,a,c;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=r[0],n.next=3,b.m.users.getByWallet(s);case 3:if(a=n.sent,c=a.data,console.log(c,"<<thisisuser"),"admin"!=c.data[0].role){n.next=14;break}return f.a.saveMetamaskDetails(t,{address:s}),g.Am.success("Login successful!"),n.next=11,sessionStorage.setItem("metamask","true");case 11:e("/subscriber"),n.next=15;break;case 14:g.Am.error("You are not authorized to access it");case 15:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());case 6:n.next=9;break;case 8:e("/subscriber");case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),console.log(n.t0);case 14:n.next=17;break;case 16:alert("install metamask extension!!");case 17:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(){return n.apply(this,arguments)}}();return(0,p.jsxs)(d.Z,{title:"Login",description:"this is Login page",children:[(0,p.jsx)(m.Z,{}),(0,p.jsx)(a.Z,{sx:{position:"relative","&:before":{content:'""',background:"radial-gradient(#d2f1df, #d3d7fa, #bad8f4)",backgroundSize:"400% 400%",animation:"gradient 15s ease infinite",position:"absolute",height:"100%",width:"100%",opacity:"0.3"}},children:(0,p.jsx)(c.ZP,{container:!0,spacing:0,justifyContent:"center",sx:{height:"100vh"},children:(0,p.jsx)(c.ZP,{item:!0,xs:12,sm:12,lg:4,xl:3,display:"flex",justifyContent:"center",alignItems:"center",children:(0,p.jsxs)(o.Z,{elevation:9,sx:{p:4,zIndex:1,width:"100%",maxWidth:"500px"},children:[(0,p.jsx)(a.Z,{display:"flex",alignItems:"center",justifyContent:"center",children:(0,p.jsx)(x.Z,{})}),(0,p.jsxs)(c.ZP,{container:!0,justifyContent:"center",columnGap:3,children:[(0,p.jsx)(c.ZP,{item:!0,xs:12,textAlign:"center",mt:2,children:(0,p.jsx)("img",{src:l,width:"100px"})}),(0,p.jsx)(c.ZP,{item:!0,xs:10,textAlign:"center",mt:3,children:(0,p.jsx)(u.Z,{variant:"contained",className:"align-center metamask",fullWidth:!0,onClick:n,style:{fontWeight:"bold",fontSize:"20px"},children:"Connect Metamask"})})]})]})})})})]})}}}]);
//# sourceMappingURL=32.f1e2299a.chunk.js.map